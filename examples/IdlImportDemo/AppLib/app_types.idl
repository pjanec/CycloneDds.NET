/*
    Note: The include path here relies on the --source-root being the 'IdlImportDemo' folder,
          so both 'CommonLib' and 'AppLib' are top-level directories under it.
*/
#include "CommonLib/common_types.idl"

module AppLib
{
    // A complex union switching on boolean
    union Result switch (boolean)
    {
        case TRUE:
            CommonLib::Point2D value;
        case FALSE:
            string msg;
    };

    // Main topic structure using types from both modules
    @final
    struct ExtendedPoint
    {
        @key long id;
        
        CommonLib::Point base_point;
        
        CommonLib::Color color;
        
        Result extra_info;
        
        sequence<string> tags;
    };
};
